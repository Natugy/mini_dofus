/*! For license information please see main.bundle.js.LICENSE.txt */
!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:String(r)}var n=function(){function t(e,r,n,o,i,a,u,c,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nom=e,this.pv=r,this.pvMax=r,this.attaque=n,this.defense=o,this.x=i,this.y=a,this.porteeAttaque=u,this.pm=c,this.pmMax=c,this.pa=s,this.paMax=s}var r,n;return r=t,(n=[{key:"attaquer",value:function(t){var e=Math.max(this.attaque-t.defense,0);t.pv=Math.max(t.pv-e,0),lt.logMessageCombat("".concat(this.nom," attaque ").concat(t.nom," et inflige ").concat(e," points de dÃ©gÃ¢ts."))}},{key:"estVivant",value:function(){return this.pv>0}},{key:"estAPorteeAttaque",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)<=this.porteeAttaque}},{key:"deplacer",value:function(t,e){var r=Math.abs(t-this.x)+Math.abs(e-this.y);this.pm>=r?(this.x=t,this.y=e,this.pm-=r,lt.logMessageCombat("".concat(this.nom," se dÃ©place en (").concat(t,", ").concat(e,"). PM restants: ").concat(this.pm))):lt.logMessageErreur("Pas assez de PM pour se dÃ©placer.")}},{key:"finDuTour",value:function(){this.pa=this.paMax,this.pm=this.pmMax,lt.logMessageInfo("Fin du tour de ".concat(this.nom,". PA restaurÃ©s Ã  ").concat(this.pa,"."))}},{key:"resetStats",value:function(){this.pv=this.pvMax,this.pa=this.paMax,this.pm=this.pmMax}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:String(e)}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sort=e,this.htmlElement=document.createElement("button"),this.htmlElement.className="action-button",this.htmlElement.innerHTML=e.icon,this.htmlElement.setAttribute("data-name","".concat(e.nom," (").concat(e.coutPA," PA)"))}var e,r;return e=t,(r=[{key:"addEventListener",value:function(t,e){this.htmlElement.addEventListener(t,e)}},{key:"resetBouton",value:function(){this.htmlElement=document.createElement("button"),this.htmlElement.className="action-button",this.htmlElement.innerHTML=this.sort.icon,this.htmlElement.setAttribute("data-name","".concat(this.sort.nom," (").concat(this.sort.coutPA," PA)"))}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:String(e)}function f(t,e,r){return e=y(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}var m=function(t){function e(t,r,n,o,i,a,u){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(c=f(this,e,[t,r,n,o,i,a,u,3])).experience=0,c.niveau=1,c.paMax=6,c.pa=c.paMax,c.sorts=[],c}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),r=e,(n=[{key:"ratioExperience",value:function(){return this.experience/(100*this.niveau)}},{key:"gagnerExperience",value:function(t){for(this.experience+=t,lt.logMessageInfo("".concat(this.nom," gagne ").concat(t," points d'expÃ©rience."));this.experience>=100*this.niveau;)this.monterDeNiveau()}},{key:"estAPorteeDeplacement",value:function(t){var e=Math.abs(this.x-t.x)+Math.abs(this.y-t.y);return e<=this.pm&&e>0}},{key:"ajoutSort",value:function(t){t.lanceur=this,this.sorts.push(t),at.listeSortsDebloquer.push(new u(t))}},{key:"monterDeNiveau",value:function(){this.niveau++,this.pvMax+=10,this.pv=this.pvMax,this.attaque+=4,this.defense+=1,this.experience=Math.max(this.experience-100*this.niveau,0),this.niveau%3==0&&this.paMax++,this.niveau%5==0&&this.pmMax++,this.niveau%7==0&&this.porteeAttaque++,this.niveau<=at.listeSorts.length&&this.ajoutSort(at.listeSorts[this.niveau-1]),lt.logMessageInfo("".concat(this.nom," passe au niveau ").concat(this.niveau,"!"))}},{key:"finDuTour",value:function(){this.pa=this.paMax,this.pm=this.pmMax,lt.logMessageInfo("Fin du tour de ".concat(this.nom,". PA restaurÃ©s Ã  ").concat(this.pa,"."))}}])&&s(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(n);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w(n.key),n)}}function d(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t,e,r){return(e=w(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:String(e)}var S=d((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function j(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:String(e)}g(S,"CROIX","CROIX"),g(S,"DIAGONALE","DIAGONALE"),g(S,"ZONE","ZONE");var P=function(){function t(e,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S.ZONE,a=arguments.length>5?arguments[5]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nom=e,this.coutPA=r,this.portee=n,this.degats=o,this.lanceur=a,this.icon="ðŸ”®",this.typeCiblage=i}var e,r;return e=t,(r=[{key:"estAPortee",value:function(t){var e=Math.abs(this.lanceur.x-t.x)+Math.abs(this.lanceur.y-t.y);return this.typeCiblage===S.DIAGONALE?e<=2*(this.portee+this.lanceur.porteeAttaque):e<=this.portee+this.lanceur.porteeAttaque}},{key:"lancerSort",value:function(t){if(this.coutPA<=this.lanceur.pa&&this.estAPortee(t)){this.lanceur.pa-=this.coutPA;var e=Math.max(this.degats+this.lanceur.attaque-t.defense,0);t.pv=Math.max(t.pv-e,0),lt.logMessageCombat("".concat(this.lanceur.nom," lance ").concat(this.nom," sur ").concat(t.nom," et inflige ").concat(e," points de dÃ©gÃ¢ts."))}else lt.logMessageErreur("Impossible de lancer ".concat(this.nom,". Pas assez de PA ou cible hors de portÃ©e."))}},{key:"peutLancerSort",value:function(){return this.coutPA<=this.lanceur.pa}}])&&x(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:String(e)}var A=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.contenu=null,this.htmlElement=document.createElement("div"),this.htmlElement.className="cell",this.htmlElement.dataset.x=e,this.htmlElement.dataset.y=r}var e,r;return e=t,(r=[{key:"resetCell",value:function(){this.htmlElement=document.createElement("div"),this.htmlElement.className="cell",this.htmlElement.dataset.x=this.x,this.htmlElement.dataset.y=this.y}},{key:"resetEvents",value:function(){this.htmlElement.removeEventListener("click",(function(){}))}},{key:"addEventListener",value:function(t,e){this.htmlElement.addEventListener(t,e)}},{key:"afficherPorteeMouvement",value:function(){this.htmlElement.classList.add("in-move-range")}},{key:"afficherPorteeSort",value:function(){this.htmlElement.classList.add("in-range")}},{key:"estJoueur",value:function(t){this.htmlElement.classList.add("player"),this.htmlElement.textContent="J",this.contenu=t}},{key:"estMonstre",value:function(t){this.htmlElement.classList.add("monster"),this.htmlElement.textContent="M",this.contenu=t}},{key:"estLibre",value:function(){return!this.htmlElement.classList.contains("player")&&!this.htmlElement.classList.contains("monster")}}])&&O(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T(n.key),n)}}function T(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==C(e)?e:String(e)}var I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"afficherCarte",value:function(){var t=document.getElementById("map-container");t.innerHTML="";for(var e=at.map,r=(at.joueur,e.length),n=0;n<r;n++)for(var o=0;o<r;o++){var i=e[n][o];t.appendChild(i.htmlElement)}}},{key:"resetCarteMonstre",value:function(){for(var t=at.map,e=at.joueur,r=t.length,n=at.monstresEnjeu,o=t[e.y][e.x],i=0;i<r;i++){t[i]=[];for(var a=0;a<r;a++)i===e.y&&a===e.x?t[i][a]=o:t[i][a]=new A(a,i)}t[e.y][e.x].estJoueur(e),n.forEach((function(e){t[e.y][e.x].estMonstre(e)}))}}],null&&L(e.prototype,null),r&&L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}function D(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_(e)?e:String(e)}var N=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"afficherStats",value:function(){var t=at.joueur;document.getElementById("player-hp").textContent="".concat(t.pv,"/").concat(t.pvMax),document.getElementById("player-pa").textContent="".concat(t.pa,"/").concat(t.paMax),document.getElementById("player-pm").textContent="".concat(t.pm,"/").concat(t.pmMax),document.getElementById("player-atk").textContent=t.attaque}}],null&&J(e.prototype,null),r&&J(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G(n.key),n)}}function G(t){var e=function(t,e){if("object"!=q(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(e)?e:String(e)}function z(t,e,r){return e=Z(e),function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return V(t)}(t,R()?Reflect.construct(e,r||[],Z(t).constructor):e.apply(t,r))}function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(R=function(){return!!t})()}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}var X=function(t){function e(t,r,n,o,i,a,u,c){var s,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=z(this,e,[t,r,n,o,i,a,u,3,3])).experienceDonnee=c,s.sort=new P("Coup de griffe",2,1,10,V(s)),s.boss=l,s}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(e,t),r=e,(n=[{key:"jouerTour",value:function(){var t=at.joueur;if(this.pa>0){if(this.pm>0&&!this.estAPorteeAttaque(t))return this.deplacerVersJoueur(),!0;if(this.estAPorteeAttaque(t))return this.attaquer(t),this.pa-=2,!0}return!1}},{key:"deplacerVersJoueur",value:function(){var t=at.joueur,e=at.map,r=Math.sign(t.x-this.x),n=Math.sign(t.y-this.y);Math.abs(t.x-this.x)>Math.abs(t.y-this.y)?this.checkCoordonnees(this.x+r,this.y)&&e[this.y][this.x+r].estLibre()?this.deplacer(this.x+r,this.y):this.checkCoordonnees(this.x,this.y+n)&&e[this.y+n][this.x].estLibre()&&this.deplacer(this.x,this.y+n):this.checkCoordonnees(this.x,this.y+n)&&e[this.y+n][this.x].estLibre()?this.deplacer(this.x,this.y+n):this.checkCoordonnees(this.x+r,this.y)&&e[this.y][this.x+r].estLibre()&&this.deplacer(this.x+r,this.y)}},{key:"checkCoordonnees",value:function(t,e){return t>=0&&t<at.mapSize&&e>=0&&e<at.mapSize}},{key:"wait",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}}])&&B(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(n);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K(n.key),n)}}function K(t){var e=function(t,e){if("object"!=F(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==F(e)?e:String(e)}function Q(t,e,r){return e=W(e),function(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,U()?Reflect.construct(e,r||[],W(t).constructor):e.apply(t,r))}function U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(U=function(){return!!t})()}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}var tt=function(t){function e(t,r,n,o,i){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=Q(this,e,[t,r,n,0,i])).soin=o,a}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(e,t),r=e,(n=[{key:"lancerSort",value:function(t){this.coutPA<=this.lanceur.pa&&this.estAPortee(t)?(this.lanceur.pa-=this.coutPA,t.pv=Math.min(t.pv+this.soin,t.pvMax),lt.logMessageCombat("".concat(this.lanceur.nom," lance ").concat(this.nom," sur ").concat(t.nom," et lui rend ").concat(this.soin," points de vie."))):lt.logMessageErreur("Impossible de lancer ".concat(this.nom,". Pas assez de PA ou cible hors de portÃ©e."))}}])&&Y(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(P);function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,it(n.key),n)}}function nt(t,e,r){return e&&rt(t.prototype,e),r&&rt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ot(t,e,r){return(e=it(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function it(t){var e=function(t,e){if("object"!=et(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==et(e)?e:String(e)}var at=nt((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,st(n.key),n)}}function st(t){var e=function(t,e){if("object"!=ut(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ut(e)?e:String(e)}ot(at,"tour",1),ot(at,"map",[]),ot(at,"joueur",new m("Joueur",100,10,1,1,1,1)),ot(at,"listeMonstres",[new X("Piou",20,5,2,2,2,1,30),new X("Chacha",30,7,3,9,9,1,50),new X("Bouftou",50,10,2,9,9,1,75),new X("Chafer",75,15,3,9,0,2,90),new X("Craqueleur",100,20,5,9,0,2,100),new X("Bouftou Royal",150,25,7,9,0,1,150,!0),new X("Chuchu",200,30,10,0,0,3,200,!0),new X("Dark Vlad",250,35,15,0,0,3,250,!0),new X("Oropo",500,50,20,0,0,3,500,!0)]),ot(at,"listeSorts",[new P("Coup d'Ã©pÃ©e",2,0,10,S.CROIX),new P("Eclair",2,1,15,S.DIAGONALE),new tt("Soin",2,1,10,S.CROIX),new P("Boule de feu",4,3,25,S.CROIX),new P("MÃ©tÃ©ore",6,4,40,S.DIAGONALE),new P("Tornade",8,5,60,S.ZONE),new tt("Purification",6,3,20,S.ZONE),new P("TempÃªte de feu",8,6,50,S.ZONE),new P("Annihilastion",10,15,100,S.ZONE),new P("Pluie de mÃ©tÃ©ores",8,7,80,S.ZONE)]),ot(at,"mapSize",10),ot(at,"monstresEnjeu",[]),ot(at,"listeSortsDebloquer",[]);var lt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"logMessage",value:function(t,e){var r=at.tour,n=document.getElementById("game-log");n.innerHTML+='<p class="'.concat(e,'">Tour ').concat(r,": ").concat(t,"</p>"),n.scrollTop=n.scrollHeight}},{key:"logMessageCombat",value:function(e){t.logMessage(e,"green")}},{key:"logMessageErreur",value:function(e){t.logMessage(e,"red")}},{key:"logMessageInfo",value:function(e){t.logMessage(e,"blue")}}],null&&ct(e.prototype,null),r&&ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yt(n.key),n)}}function yt(t){var e=function(t,e){if("object"!=ft(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ft(e)?e:String(e)}var pt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"afficherXpBar",value:function(){var t=at.joueur,e=Math.round(t.experience/(100*t.niveau)*100),r=document.querySelector(".xp-progress"),n=document.querySelector(".xp-text");r.style.width="".concat(e,"%"),n.textContent="".concat(e,"% - Niveau ").concat(t.niveau)}}],null&&ht(e.prototype,null),r&&ht(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bt(n.key),n)}}function bt(t){var e=function(t,e){if("object"!=mt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mt(e)?e:String(e)}var dt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"afficherSorts",value:function(){var t=at.listeSortsDebloquer,e=document.getElementById("actionRow1"),r=document.getElementById("actionRow2");e.innerHTML="",r.innerHTML="",t.forEach((function(t,n){t.resetBouton(),n<6?e.appendChild(t.htmlElement):r.appendChild(t.htmlElement)}))}}],null&&vt(e.prototype,null),r&&vt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,St(n.key),n)}}function St(t){var e=function(t,e){if("object"!=gt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==gt(e)?e:String(e)}var Et=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"afficherGameOver",value:function(){var t=document.getElementById("game-over-screen");t.style.display="flex",t.innerHTML="";var e=document.createElement("h2");e.textContent="Game Over!",t.appendChild(e);var r=document.createElement("button");r.textContent="Nouvelle partie",r.onclick=function(){return location.reload()},t.appendChild(r),document.getElementById("game-container").style.display="none"}}],null&&wt(e.prototype,null),r&&wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function jt(){jt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),u=new C(n||[]);return o(a,"_invoke",{value:k(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",y="suspendedYield",p="executing",m="completed",v={};function b(){}function d(){}function g(){}var w={};s(w,a,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(L([])));E&&E!==r&&n.call(E,a)&&(w=E);var x=g.prototype=b.prototype=Object.create(w);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==xt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=O(u,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?m:y,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(xt(e)+" is not iterable")}return d.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:d,configurable:!0}),d.displayName=s(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},j(P.prototype),s(P.prototype,u,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(x),s(x,c,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Pt(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function kt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Pt(i,n,o,a,u,"next",t)}function u(t){Pt(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mt(n.key),n)}}function Mt(t){var e=function(t,e){if("object"!=xt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xt(e)?e:String(e)}var At=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.joueur=at.joueur,this.monstresEnJeu=at.monstresEnjeu,this.tour=at.tour,this.map=at.map,this.mouvJoueurActif=!1,this.mapSize=10,this.viseeSortActif=!1,this.desactiverInterface=!1}var e,r,n;return e=t,r=[{key:"initialiserGame",value:function(){this.joueur.ajoutSort(at.listeSorts[0]),this.monstresEnJeu.push(Object.assign(new X,at.listeMonstres[0])),this.resetCarte(),lt.logMessageInfo("Bienvenue dans le jeu!"),this.mettreAJourInterface()}},{key:"resetCarte",value:function(){for(var t=this,e=0;e<this.mapSize;e++){this.map[e]=[];for(var r=0;r<this.mapSize;r++)this.map[e][r]=new A(r,e)}this.map[this.joueur.y][this.joueur.x].estJoueur(this.joueur),this.map[this.joueur.y][this.joueur.x].addEventListener("click",(function(){return t.activerMouvement()})),this.monstresEnJeu.forEach((function(e){t.map[e.y][e.x].estMonstre(e),t.map[e.y][e.x].addEventListener("click",(function(){return t.afficherInfosEnnemi(e)}))}))}},{key:"creationMonstre",value:function(){var t,e,r=this.mapSize;do{t=Math.floor(Math.random()*r),e=Math.floor(Math.random()*r)}while(!this.map[e][t].estLibre());var n=Object.assign(new X,at.listeMonstres[Math.floor(Math.random()*Math.min(Math.floor(this.tour/3)+1,at.listeMonstres.length))]);n.x=t,n.y=e,n.resetStats(),this.monstresEnJeu.push(n),lt.logMessageInfo("".concat(n.nom," apparaÃ®t en (").concat(n.x,", ").concat(n.y,")!")),this.resetCarte(),this.mettreAJourInterface()}},{key:"mettreAJourInterface",value:function(){var t=this;I.afficherCarte(),N.afficherStats(),pt.afficherXpBar(),dt.afficherSorts(),at.listeSortsDebloquer.forEach((function(e){e.addEventListener("click",(function(){return t.afficherAttaque(e.sort)}))}))}},{key:"afficherInfosEnnemi",value:function(t){lt.logMessageInfo("Nom: ".concat(t.nom," PV: ").concat(t.pv," Attaque: ").concat(t.attaque," Defense: ").concat(t.defense))}},{key:"afficherDeplacement",value:function(){var t=this;this.map.forEach((function(e){e.forEach((function(e){t.joueur.estAPorteeDeplacement(e)&&e.estLibre()&&(e.afficherPorteeMouvement(),e.addEventListener("click",(function(){return t.deplacerJoueur(e.x,e.y)})))}))}))}},{key:"activerMouvement",value:function(){this.mouvJoueurActif=!this.mouvJoueurActif,this.mouvJoueurActif&&!1===this.desactiverInterface?this.afficherDeplacement():(this.resetCarte(),this.mettreAJourInterface())}},{key:"deplacerJoueur",value:function(t,e){var r=Math.abs(t-this.joueur.x)+Math.abs(e-this.joueur.y);!1===this.map[e][t].estLibre()?lt.logMessageErreur("Vous ne pouvez pas vous dÃ©placer sur la case de l'ennemi."):r<=this.joueur.pm&&(lt.logMessageInfo("Vous vous dÃ©placez en (".concat(t,", ").concat(e,")!")),this.joueur.deplacer(t,e),this.mouvJoueurActif=!1,this.resetCarte(),this.mettreAJourInterface())}},{key:"afficherAttaque",value:function(t){this.viseeSortActif=!this.viseeSortActif,this.resetCarte(),this.mettreAJourInterface(),!0===this.viseeSortActif&&!1===this.desactiverInterface?t.typeCiblage===S.CROIX?this.viseeSortCroix(t):t.typeCiblage===S.ZONE?this.viseeSortZone(t):t.typeCiblage===S.DIAGONALE&&this.viseeSortDiagonale(t):(this.resetCarte(),this.mettreAJourInterface())}},{key:"lancerSort",value:function(t,e,r){var n=this.map[r][e].contenu;null!=n&&t.lancerSort(n),this.viseeSortActif=!1,this.checkAction(),this.resetCarte(),this.mettreAJourInterface()}},{key:"viseeSortCroix",value:function(t){var e=this;this.map[this.joueur.y][this.joueur.x].afficherPorteeSort(),this.map[this.joueur.y][this.joueur.x].addEventListener("click",(function(){return e.lancerSort(t,e.joueur.x,e.joueur.y)}));for(var r=function(r){r!==e.joueur.x&&r!==e.joueur.y&&(t.estAPortee({x:e.joueur.x,y:r})&&(e.map[r][e.joueur.x].afficherPorteeSort(),e.map[r][e.joueur.x].addEventListener("click",(function(){return e.lancerSort(t,e.joueur.x,r)}))),t.estAPortee({x:r,y:e.joueur.y})&&(e.map[e.joueur.y][r].afficherPorteeSort(),e.map[e.joueur.y][r].addEventListener("click",(function(){return e.lancerSort(t,r,e.joueur.y)}))))},n=0;n<this.mapSize;n++)r(n)}},{key:"viseeSortZone",value:function(t){for(var e=this,r=function(r){for(var n=function(n){t.estAPortee({x:n,y:r})&&(e.map[r][n].afficherPorteeSort(),e.map[r][n].addEventListener("click",(function(){return e.lancerSort(t,n,r)})))},o=0;o<e.mapSize;o++)n(o)},n=0;n<this.mapSize;n++)r(n)}},{key:"viseeSortDiagonale",value:function(t){for(var e=this,r=this.joueur,n=function(n){e.checkCoordonnees(r.x+n,r.y+n)&&t.estAPortee({x:r.x+n,y:r.y+n})&&(e.map[r.y+n][r.x+n].afficherPorteeSort(),e.map[r.y+n][r.x+n].addEventListener("click",(function(){return e.lancerSort(t,r.x+n,r.y+n)}))),e.checkCoordonnees(r.x-n,r.y+n)&&t.estAPortee({x:r.x-n,y:r.y+n})&&(e.map[r.y+n][r.x-n].afficherPorteeSort(),e.map[r.y+n][r.x-n].addEventListener("click",(function(){return e.lancerSort(t,r.x-n,r.y+n)}))),e.checkCoordonnees(r.x+n,r.y-n)&&t.estAPortee({x:r.x+n,y:r.y-n})&&(e.map[r.y-n][r.x+n].afficherPorteeSort(),e.map[r.y-n][r.x+n].addEventListener("click",(function(){return e.lancerSort(t,r.x+n,r.y-n)}))),e.checkCoordonnees(r.x-n,r.y-n)&&t.estAPortee({x:r.x-n,y:r.y-n})&&(e.map[r.y-n][r.x-n].afficherPorteeSort(),e.map[r.y-n][r.x-n].addEventListener("click",(function(){return e.lancerSort(t,r.x-n,r.y-n)})))},o=1;o<this.mapSize;o++)n(o)}},{key:"checkCoordonnees",value:function(t,e){return t>=0&&t<this.mapSize&&e>=0&&e<this.mapSize}},{key:"checkAction",value:function(){var t=this;this.monstresEnJeu.forEach((function(e){e.estVivant()||(lt.logMessageInfo("".concat(t.joueur.nom," a vaincu ").concat(e.nom,"!")),t.joueur.gagnerExperience(e.experienceDonnee))})),this.monstresEnJeu=this.monstresEnJeu.filter((function(t){return t.estVivant()})),0===this.monstresEnJeu.length&&this.creationMonstre(),this.mettreAJourInterface()}},{key:"finDuTour",value:(n=kt(jt().mark((function t(){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.joueur.finDuTour(),this.desactiverInterface=!0,this.tour++,at.tour=this.tour,t.next=6,this.tourDuMonstre();case 6:this.tour%2==0&&this.creationMonstre(),this.viseeSortActif=!1,this.mouvJoueurActif=!1,this.desactiverInterface=!1;case 10:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"tourDuMonstre",value:function(){var t=this;this.monstresEnJeu.forEach(function(){var e=kt(jt().mark((function e(r){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.jouerTour()){e.next=7;break}return t.resetCarte(),t.mettreAJourInterface(),e.next=5,t.wait(200);case 5:e.next=0;break;case 7:r.finDuTour(),t.joueur.estVivant()||Et.afficherGameOver();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"wait",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}}],r&&Ot(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ct=new At;Ct.initialiserGame(),document.getElementById("end-turn-btn").addEventListener("click",(function(){return Ct.finDuTour()}))}();
//# sourceMappingURL=main.bundle.js.map